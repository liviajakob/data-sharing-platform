{% extends "layout.html" %}
{% block head %}



    <script src="{{url_for('static', filename='js/proj4.js')}}"></script>
    <link rel="stylesheet" href="https://openlayers.org/en/v4.6.4/css/ol.css" type="text/css">
	
	<!-- The line below is only needed for old environments like Internet Explorer and Android 4.x -->
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
	<script src="https://openlayers.org/en/v4.6.4/build/ol.js"></script>

	<script src="{{url_for('static', filename='js/ol-layerswitcher.js')}}"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.3/FileSaver.min.js"></script>
	



	<link rel="stylesheet" type=text/css href="{{url_for('static', filename='css/ol-layerswitcher.css')}}">

    <link rel="stylesheet" type=text/css href="{{url_for('static', filename='css/map.css')}}">



    
{% endblock %}
{% block content %}

<div id="fullscreen" class="fullscreen"> 

<div id=side>
    <div id="side-content">
    
    <div class="text" style="background-color: lightsteelblue; border-radius: 7px;">
    <p>It is <b>cool</b> in here || Welcome to the IceExplorer</p>   
    </div>
    <div id="datasets">
    <div id=datasets-bar>
    Datasets   
    <div class="info-button" data-toggle="tooltip" data-placement="top" title="Search or filter datasets and their layers."></div>
    <div id="layertypes" class="small"><b>Layertypes: </b></div>
    <input type="text" id="myInput" onkeyup="filterDatasets()" placeholder="Search for datasets..." title="Type in keywords">
    
    <hr>
    </div>
    <div id="datasets-content">
    
    <div id="total-result"></div>
    
    <table id="myTable" class="table table-hover">
    <tbody id="datasets-list" >
    </tbody></table>
    
    <div id="display-pages"></div>
    </div>
        <div id="scroll-icon">&#8597;</div>
     
    </div>

	
	
	
	
	<div class="text"><button id="png">Download view as PNG</button>
	

<div id="attribution"></div>
	</div>

	
    </div> <!-- end side-content -->
    </div> <!-- end side -->
    
    


   
   <div class='map' id="map">{% if error %}<p class=error><strong>Error:</strong> {{ error }}{% endif %}
   </div>   
   <!-- div id="popup"></div>  -->
   
   <div id="toolbox" class="maptool">
	   <div class="content">
	   	<h6>Toolbox  <span class="info-button" data-toggle="tooltip" data-placement="right" title="Tools to explore this dataset"></span></h6>
	   	<hr>
	   	
	   	<button id="toggle-swipe" data-toggle="tooltip" data-placement="right" title="Enter swipe mode to compare the two top layers">Swipe Tool</button>
	   	<button id="toggle-explore" data-toggle="tooltip" data-placement="right" title="Enter explore mode to explore layer values">Explore Tool</button>
	   	
	   	<div style="padding-top: 65px">
	   	<hr>
	   	<h6>Legend  <span class="info-button" data-toggle="tooltip" data-placement="right" title="Legend of the top visible layer. Click on the legend to get the value of a specific colour"></span></h6>
	   	
	   	   <div id="legend-content" >
		   <canvas width="150px" height=64px id="legend-bar" data-toggle="tooltip" data-placement="bottom" title=""></canvas>
		   </div>
	   	
	   </div>
	   </div>
   </div>
   

   
   <div id="point-info" class="maptool">
   	<div id="point-value"><p>Click on the map to query values of the top layer</p></div>
   </div>
   
   <input id="swipe" type="range" class="swipe-slider" >
   
   
      <div id='infobox'>
   </div>
   
   <div id='infobox-detailed'><span id='info-title'></span>
   <div id='infobox-detailed-content'></div>
      </div>

    <!--div id="search" style="position: absolute; top: 60px; right: 50px; padding: 5px; background-color: rgba(255,255,255,0.5);">
      <input type="text" placeholder="Search for datasets..." style="width: 200px">
      <button type="button">Search</button>
    </div-->

<div id="mouse-position">Mouse Position:
</div>


</div> <!-- End of fullscreen -->

 <script>console.log('{{data}}')</script>
 <script src="{{url_for('static', filename='js/mapstyles.js')}}"></script>
 <script src="{{url_for('static', filename='js/map.js')}}"></script>
  <script src="{{url_for('static', filename='js/controls.js')}}"></script>
    <script src="{{url_for('static', filename='js/show-dataset.js')}}"></script>
 <script src="{{url_for('static', filename='js/sidebar-display.js')}}"></script>
<script src="{{url_for('static', filename='js/export.js')}}"></script>
<script src="{{url_for('static', filename='js/swipe.js')}}"></script>
<script src="{{url_for('static', filename='js/explore.js')}}"></script>

{% endblock %}

